# Preprocessing

Preprocessing of the raw input ECG data is done via running two files:
1. `heartbeat_split.py`
2. `normalize_heartbeats.py`

## Noise Filtering
To remove noise present in the raw heartbeat data run `noise_filtering.py` \
This filters the data to remove both the wandering baseline present in lead data as well as high frequency noise that
can be an artifact of the ECG leads that generate the data. \
This is done using forward-backward filtering to ensure that there is no phase delay created by the filtering process.


## Heartbeat Split
To split the ECG leads into individual heartbeats, run `heartbeat_split.py` \
This will load the raw ECGs, remove flatlines, filter for noise, and detect peaks. \
It then segments the ECG signal into 10 heartbeat chunks, interpolate them, and stores them into a numpy array (Data Matrix)\
The interpolated hearbeats will be stored into a `Working_Data` directory at the root of the project (ignored by the .gitignore)

To run on new data, modify the main to use different filenames.\



## Normalize Heartbeats

To ensure that all heartbeat data is of the same dimension, run `normalize_heartbeats.py` \
This takes all heartbeats generated by `heartbeat_split.py` and linearly interpolates the individual heartbeats or 
groups of heartbeats to the same dimension, so that it can be effectively passed into other models in the pipeline.


